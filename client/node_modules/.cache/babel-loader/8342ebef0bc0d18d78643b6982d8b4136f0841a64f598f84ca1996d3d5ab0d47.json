{"ast":null,"code":"import _defineProperty from\"/Users/anthonyreedy/bootcamp/Match-My-Mood/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/anthonyreedy/bootcamp/Match-My-Mood/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/anthonyreedy/bootcamp/Match-My-Mood/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anthonyreedy/bootcamp/Match-My-Mood/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anthonyreedy/bootcamp/Match-My-Mood/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useMutation}from'@apollo/client';import{LOGIN}from'../utils/mutations';import Auth from'../utils/auth';import'../styles/Login.css';import Signup from'./Signup';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){var _useState=useState({userName:'',password:''}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=useMutation(LOGIN),_useMutation2=_slicedToArray(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var navigate=useNavigate();var handleLoginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var mutationResponse,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:{userName:formState.userName,password:formState.password}});case 4:mutationResponse=_context.sent;token=mutationResponse.data.login.token;Auth.login(token);navigate(\"/moods\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleLoginSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",flex:\"column\",justifyContent:\"center\",width:\"100%\",height:\"100%\",padding:\"01%\",margin:\"0%\",alignItems:\"center\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-med-6 mb-3 mb-sm-0 w-50 text-center mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-dark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body \",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error.message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLoginSubmit,children:[/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"label\",{class:\"label\",children:\"Music User Login:\"})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputUsername3\",class:\"col-sm-2 col-form-label\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{name:\"userName\",value:formState.userName,type:\"text\",class:\"form-control\",id:\"inputUsername3\",onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword3\",class:\"col-sm-2 col-form-label\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{name:\"password\",value:formState.password,type:\"password\",className:\"form-control\",id:\"inputPassword3\",onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"signupbtn\",className:\"btn btn-dark\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Login\"})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Signup,{})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}export default Login;","map":{"version":3,"names":["React","useState","useMutation","LOGIN","Auth","Signup","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","_useState","userName","password","_useState2","_slicedToArray","formState","setFormState","_useMutation","_useMutation2","login","error","navigate","handleLoginSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","mutationResponse","token","wrap","_callee$","_context","prev","next","preventDefault","variables","sent","data","t0","console","log","stop","_x","apply","arguments","handleChange","_event$target","target","name","value","_objectSpread","_defineProperty","children","style","display","flex","justifyContent","width","height","padding","margin","alignItems","className","message","onSubmit","class","for","type","id","onChange"],"sources":["/Users/anthonyreedy/bootcamp/Match-My-Mood/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport '../styles/Login.css';\nimport Signup from './Signup'\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Login(props) {\n  const [formState, setFormState] = useState({ userName: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n  const navigate = useNavigate();\n  \n  const handleLoginSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { userName: formState.userName, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n      navigate(\"/moods\");\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n    return (\n    <div>\n\n    <div style={{display:\"flex\",flex:\"column\", justifyContent:\"center\",width:\"100%\",height:\"100%\", padding:\"01%\", margin:\"0%\", alignItems:\"center\"}}></div>\n    <div className=\"row \">\n    <div className=\"col-med-6 mb-3 mb-sm-0 w-50 text-center mx-auto\">\n    <div className=\"card border-dark\">\n      <div className=\"card-body \">\n        {error && <div className=\"alert alert-danger\">{error.message}</div>}\n        <form onSubmit={handleLoginSubmit}>\n            <h5><b><label class=\"label\">Music User Login:</label></b></h5>\n            <br/>\n            <div className=\"row mb-3\">\n              <label for=\"inputUsername3\" class=\"col-sm-2 col-form-label\">Username:</label>\n              <div className=\"col-sm-10\">\n                <input name=\"userName\" value={formState.userName} type=\"text\" class=\"form-control\" id=\"inputUsername3\" onChange={handleChange}/>\n              </div>\n            </div>\n            <div className=\"row mb-3\">\n              <label for=\"inputPassword3\" class=\"col-sm-2 col-form-label\">Password:</label>\n              <div className=\"col-sm-10\">\n                <input name=\"password\" value={formState.password} type=\"password\" className=\"form-control\" id=\"inputPassword3\" onChange={handleChange}/>\n              </div>\n            </div>\n            \n            <button type=\"submit\" id=\"signupbtn\" className=\"btn btn-dark\"><b>Login</b></button>\n          </form>\n    </div>\n  </div>\n</div>\n      <div><Signup /></div>\n  \n\n    </div>\n\n    <br/>\n    <br/>\n    <br/>\n\n</div>\n\n\n    );\n}\n\nexport default Login;"],"mappings":"orBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,KAAK,KAAQ,oBAAoB,CAC1C,MAAO,CAAAC,IAAI,KAAM,eAAe,CAChC,MAAO,qBAAqB,CAC5B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,KAAKA,CAACC,KAAK,CAAE,CACpB,IAAAC,SAAA,CAAkCZ,QAAQ,CAAC,CAAEa,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAAnEK,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,YAAA,CAA2BlB,WAAW,CAACC,KAAK,CAAC,CAAAkB,aAAA,CAAAJ,cAAA,CAAAG,YAAA,IAAtCE,KAAK,CAAAD,aAAA,IAAIE,KAAK,CAAAF,aAAA,IAALE,KAAK,CACrB,GAAM,CAAAC,QAAQ,CAAGlB,WAAW,EAAE,CAE9B,GAAM,CAAAmB,iBAAiB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,MAAAC,gBAAA,CAAAC,KAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpCP,KAAK,CAACQ,cAAc,EAAE,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEU,CAAAhB,KAAK,CAAC,CACnCkB,SAAS,CAAE,CAAE1B,QAAQ,CAAEI,SAAS,CAACJ,QAAQ,CAAEC,QAAQ,CAAEG,SAAS,CAACH,QAAS,CAC1E,CAAC,CAAC,QAFIiB,gBAAgB,CAAAI,QAAA,CAAAK,IAAA,CAGhBR,KAAK,CAAGD,gBAAgB,CAACU,IAAI,CAACpB,KAAK,CAACW,KAAK,CAC/C7B,IAAI,CAACkB,KAAK,CAACW,KAAK,CAAC,CACjBT,QAAQ,CAAC,QAAQ,CAAC,CAACY,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAEnBQ,OAAO,CAACC,GAAG,CAAAT,QAAA,CAAAO,EAAA,CAAG,CAAC,yBAAAP,QAAA,CAAAU,IAAA,MAAAhB,OAAA,iBAElB,kBAZK,CAAAL,iBAAiBA,CAAAsB,EAAA,SAAArB,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OAYtB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAInB,KAAK,CAAK,CAC9B,IAAAoB,aAAA,CAAwBpB,KAAK,CAACqB,MAAM,CAA5BC,IAAI,CAAAF,aAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,aAAA,CAALG,KAAK,CACnBnC,YAAY,CAAAoC,aAAA,CAAAA,aAAA,IACPrC,SAAS,KAAAsC,eAAA,IACXH,IAAI,CAAGC,KAAK,GACb,CACJ,CAAC,CAEC,mBACA5C,KAAA,QAAA+C,QAAA,eAEAjD,IAAA,QAAKkD,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAACC,IAAI,CAAC,QAAQ,CAAEC,cAAc,CAAC,QAAQ,CAACC,KAAK,CAAC,MAAM,CAACC,MAAM,CAAC,MAAM,CAAEC,OAAO,CAAC,KAAK,CAAEC,MAAM,CAAC,IAAI,CAAEC,UAAU,CAAC,QAAQ,CAAE,EAAO,cACvJxD,KAAA,QAAKyD,SAAS,CAAC,MAAM,CAAAV,QAAA,eACrBjD,IAAA,QAAK2D,SAAS,CAAC,iDAAiD,CAAAV,QAAA,cAChEjD,IAAA,QAAK2D,SAAS,CAAC,kBAAkB,CAAAV,QAAA,cAC/B/C,KAAA,QAAKyD,SAAS,CAAC,YAAY,CAAAV,QAAA,EACxBlC,KAAK,eAAIf,IAAA,QAAK2D,SAAS,CAAC,oBAAoB,CAAAV,QAAA,CAAElC,KAAK,CAAC6C,OAAO,EAAO,cACnE1D,KAAA,SAAM2D,QAAQ,CAAE5C,iBAAkB,CAAAgC,QAAA,eAC9BjD,IAAA,OAAAiD,QAAA,cAAIjD,IAAA,MAAAiD,QAAA,cAAGjD,IAAA,UAAO8D,KAAK,CAAC,OAAO,CAAAb,QAAA,CAAC,mBAAiB,EAAQ,EAAI,EAAK,cAC9DjD,IAAA,SAAK,cACLE,KAAA,QAAKyD,SAAS,CAAC,UAAU,CAAAV,QAAA,eACvBjD,IAAA,UAAO+D,GAAG,CAAC,gBAAgB,CAACD,KAAK,CAAC,yBAAyB,CAAAb,QAAA,CAAC,WAAS,EAAQ,cAC7EjD,IAAA,QAAK2D,SAAS,CAAC,WAAW,CAAAV,QAAA,cACxBjD,IAAA,UAAO6C,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEpC,SAAS,CAACJ,QAAS,CAAC0D,IAAI,CAAC,MAAM,CAACF,KAAK,CAAC,cAAc,CAACG,EAAE,CAAC,gBAAgB,CAACC,QAAQ,CAAExB,YAAa,EAAE,EAC5H,GACF,cACNxC,KAAA,QAAKyD,SAAS,CAAC,UAAU,CAAAV,QAAA,eACvBjD,IAAA,UAAO+D,GAAG,CAAC,gBAAgB,CAACD,KAAK,CAAC,yBAAyB,CAAAb,QAAA,CAAC,WAAS,EAAQ,cAC7EjD,IAAA,QAAK2D,SAAS,CAAC,WAAW,CAAAV,QAAA,cACxBjD,IAAA,UAAO6C,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEpC,SAAS,CAACH,QAAS,CAACyD,IAAI,CAAC,UAAU,CAACL,SAAS,CAAC,cAAc,CAACM,EAAE,CAAC,gBAAgB,CAACC,QAAQ,CAAExB,YAAa,EAAE,EACpI,GACF,cAEN1C,IAAA,WAAQgE,IAAI,CAAC,QAAQ,CAACC,EAAE,CAAC,WAAW,CAACN,SAAS,CAAC,cAAc,CAAAV,QAAA,cAACjD,IAAA,MAAAiD,QAAA,CAAG,OAAK,EAAI,EAAS,GAC9E,GACP,EACF,EACF,cACAjD,IAAA,QAAAiD,QAAA,cAAKjD,IAAA,CAACH,MAAM,IAAG,EAAM,GAGjB,cAENG,IAAA,SAAK,cACLA,IAAA,SAAK,cACLA,IAAA,SAAK,GAEH,CAIN,CAEA,cAAe,CAAAG,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}